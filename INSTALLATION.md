## Installation

Installation is very straightforward.

If you have access to the underlying system and are able to setup firewall rules using iptables (or otherwise), I strongly recommend you do so. Then, install BungeeGuard as well.

The latest versions of BungeeGuard can be found from:

* [GitHub](https://github.com/lucko/BungeeGuard/releases)
* [SpigotMC](https://www.spigotmc.org/resources/bungeeguard.79601/)
* [Jenkins](https://ci.lucko.me/job/BungeeGuard/)

### On your proxy...

#### If you are using BungeeCord

1. Ensure `ip_forward` is set to `true` in BungeeCord's `config.yml`.
2. Add `BungeeGuard.jar` to the plugins folder. Then restart the proxy. If you have multiple proxies in your network, do this for each of them.
3. Navigate to `/plugins/BungeeGuard/token.yml` and make a note of the token.

#### If you are using Velocity

1. Ensure you are using Velocity 1.1.0 or newer.
2. Set `player-info-forwarding-mode` to `"bungeeguard"` in `velocity.toml`, and make note of the `forwarding-secret`. This is the value used for the BungeeGuard token. If you have multiple proxies in your network, do this for each of them.
4. Restart the proxy.

***You do NOT need to install the `BungeeGuard.jar`! BungeeGuard is built into Velocity.***

### On each of your backend Minecraft servers...

1. Ensure you are either using [Paper](https://papermc.io/) 1.9.4+ or have [ProtocolLib](https://www.spigotmc.org/resources/protocollib.1997/) installed.
2. Ensure the `bungeecord` setting is set to `true` in `spigot.yml`.
3. Add `BungeeGuard.jar` to the plugins folder. Then restart the server.
4. Navigate to `/plugins/BungeeGuard/config.yml`. Add the token(s) generated by the proxy(ies) to the `allowed-tokens` list.
   > e.g.
   > ```yml
	> # Allowed authentication tokens.  
	> allowed-tokens:
	>   - "AUSXEwebkOGVnbihJM8gBS0QUutDzvIG009xoAfo1Huba9pGvhfjrA21r8dWVsa8"
	> ```
5. Run `bungeeguard reload` from console.
